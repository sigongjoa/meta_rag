# Meta-RAG 프로젝트 테스트 DoD (Definition of Done) 정의

**문서 버전: 1.0**
**작성일: 2025-10-22**

---

## 1. 문서 개요

본 문서는 Meta-RAG 프로젝트에서 Python (`pytest`) 및 JavaScript (`npm test`) 기반의 테스트에 대한 DoD(Definition of Done)를 정의합니다. 이는 각 개발 단계별(모듈, 파일 단위, 유즈 케이스) 테스트 완료 기준을 명확히 하여 코드 품질을 보증하고, 시스템의 신뢰성을 확보하는 것을 목표로 합니다.

## 2. 일반적인 테스트 DoD 원칙

모든 테스트 레벨에 공통적으로 적용되는 원칙은 다음과 같습니다.

*   [ ] **모든 테스트 통과:** 해당 범위 내의 모든 테스트 케이스가 100% 통과해야 합니다.
*   [ ] **코드 커버리지 목표 달성:** 정의된 코드 커버리지 목표(예: 단위 테스트 90%, 통합 테스트 80%)를 달성해야 합니다.
*   [ ] **테스트 가독성 및 유지보수성:** 테스트 코드는 명확하고 이해하기 쉬우며, 향후 변경 사항에 대해 쉽게 유지보수될 수 있도록 작성되어야 합니다.
*   [ ] **긍정 및 부정 시나리오 커버:** 정상적인 동작뿐만 아니라, 예외 상황 및 에러 케이스에 대한 테스트가 포함되어야 합니다.
*   [ ] **CI/CD 자동화:** 모든 테스트는 CI/CD 파이프라인에 통합되어 자동으로 실행되어야 합니다.

## 3. Python (`pytest`) 테스트 DoD

### 3.1. 모듈 레벨 DoD (단위 테스트)
개별 함수, 클래스 또는 작은 논리 단위에 대한 테스트 완료 기준입니다.

*   [ ] `pytest`를 사용하여 개별 함수 및 클래스에 대한 단위 테스트가 작성되어야 합니다.
*   [ ] 모든 공개(public) 메서드/함수에 대해 최소 하나 이상의 테스트 케이스가 존재해야 합니다.
*   [ ] 경계 조건(edge cases) 및 예상되는 에러 조건에 대한 테스트가 포함되어야 합니다.
*   [ ] 외부 의존성(DB, API 호출 등)은 Mocking 또는 Patching을 통해 격리되어 테스트되어야 합니다.
*   [ ] 해당 모듈의 코드 커버리지가 최소 90% 이상이어야 합니다.

### 3.2. 파일 단위 레벨 DoD (통합 테스트)
하나의 파일 내 여러 모듈 또는 밀접하게 관련된 파일들 간의 상호작용에 대한 테스트 완료 기준입니다.

*   [ ] `pytest`를 사용하여 파일 내 모듈 간의 통합 및 데이터 흐름을 검증하는 테스트가 작성되어야 합니다.
*   [ ] 테스트는 여러 모듈이 결합되었을 때의 올바른 동작을 보장해야 합니다.
*   [ ] 주요 데이터 입력 및 출력 지점에 대한 테스트가 포함되어야 합니다.
*   [ ] 해당 파일 단위의 코드 커버리지가 최소 80% 이상이어야 합니다.

### 3.3. 유즈 케이스 레벨 DoD (종단 간/시스템 테스트)
실제 사용자 시나리오를 모방하여 시스템 전체의 기능을 검증하는 테스트 완료 기준입니다.

*   [ ] `pytest` (또는 `Playwright`와 같은 도구와 연동)를 사용하여 핵심 사용자 여정(critical user journeys)을 커버하는 종단 간(End-to-End) 테스트가 작성되어야 합니다.
*   [ ] 프론트엔드부터 백엔드까지 전체 시스템의 기능이 올바르게 동작하는지 검증해야 합니다.
*   [ ] 실제 또는 현실적인 더미 데이터를 사용하여 테스트가 수행되어야 합니다.
*   [ ] 주요 유즈 케이스(예: 문제 제출 -> 사고 과정 생성 -> 시각화)가 성공적으로 완료되는지 확인해야 합니다.

## 4. JavaScript (`npm test`) 테스트 DoD

### 4.1. 모듈 레벨 DoD (단위 테스트)
개별 컴포넌트, 함수 또는 작은 논리 단위에 대한 테스트 완료 기준입니다.

*   [ ] `npm test` (Jest, Vitest 등)를 사용하여 개별 컴포넌트 및 함수에 대한 단위 테스트가 작성되어야 합니다.
*   [ ] UI 컴포넌트의 경우, 렌더링, 상태 변화, 이벤트 핸들링에 대한 테스트가 포함되어야 합니다.
*   [ ] 외부 의존성(API 호출, 전역 상태 관리 등)은 Mocking을 통해 격리되어 테스트되어야 합니다.
*   [ ] 해당 모듈의 코드 커버리지가 최소 90% 이상이어야 합니다.

### 4.2. 파일 단위 레벨 DoD (통합 테스트)
하나의 파일 내 여러 컴포넌트 또는 밀접하게 관련된 파일들 간의 상호작용에 대한 테스트 완료 기준입니다.

*   [ ] `npm test` (React Testing Library 등)를 사용하여 파일 내 컴포넌트 간의 통합 및 데이터 흐름을 검증하는 테스트가 작성되어야 합니다.
*   [ ] 테스트는 통합된 컴포넌트들에 대한 사용자 상호작용을 시뮬레이션해야 합니다.
*   [ ] 주요 데이터 입력 및 출력 지점에 대한 테스트가 포함되어야 합니다.
*   [ ] 해당 파일 단위의 코드 커버리지가 최소 80% 이상이어야 합니다.

### 4.3. 유즈 케이스 레벨 DoD (종단 간/시스템 테스트)
실제 사용자 시나리오를 모방하여 프론트엔드 애플리케이션 전체의 기능을 검증하는 테스트 완료 기준입니다.

*   [ ] `npm test` (Playwright, Cypress 등)를 사용하여 핵심 사용자 흐름을 커버하는 종단 간(End-to-End) 테스트가 작성되어야 합니다.
*   [ ] 테스트는 브라우저 환경에서 실제 사용자처럼 동작하며, 프론트엔드와 백엔드 간의 통합을 UI를 통해 검증해야 합니다.
*   [ ] 주요 유즈 케이스(예: 문제 제출 -> 사고 과정 시각화 -> 피드백 제출)가 성공적으로 완료되는지 확인해야 합니다.
*   [ ] (선택 사항) 반응성 및 크로스 브라우저 호환성에 대한 테스트가 포함될 수 있습니다.
